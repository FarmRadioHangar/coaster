# coaster

## commands

play

```
NAME:
   coaster play - runs ansible playbook

USAGE:
   coaster play [command options] [arguments...]

OPTIONS:
   --config value  path to the configuration file
   --book value    the name of the playbook to run
   --tags value    a list of playbook tags to run
   --force         will force the operation
```
Example usage

```
$ coaster play --config tmp/play.json --book voxbox-playbook --tags fconf,fastc --force true
```

The configuration file looks like this 

```json
{
    "playbookPath":"tmp/playbooks",
    "manifestDir":"tmp/",
    "inventoryFile":"local.hosts"
}
```
* `playbookPath` tells the binary to look for ansible playbooks in this diretcory

* `manifestFir` tells the binary to look/store manifest file in this directory. The name of the manifest file is `voxbox-manifest.json`

* `inventoryFile` tells the binary to use this file as inventory, if you want to run the playbook in localhost( the same machine as the binary is in) set this to `local.hosts`

sample manifest file

```json
{
	"version": "0.1.0",
	"components": [
		{
			"name": "fastc",
			"version": "0.1.5"
		},
		{
			"name": "fconf",
			"version": "0.4.10"
		},
		{
			"name": "fconf-node",
			"version": ""
		},
		{
			"name": "fconf-polymer",
			"version": ""
		},
		{
			"name": "fdevices",
			"version": "0.1.9"
		},
		{
			"name": "fessbox",
			"version": "0.2.0"
		},
		{
			"name": "metrics",
			"version": ""
		},
		{
			"name": "redis",
			"version": "3.2"
		},
		{
			"name": "voxbox-ui",
			"version": ""
		}
	],
	"created_at": "2017-03-31T10:02:45.177193137+03:00",
	"updated_at": "2017-03-31T10:08:51.779628732+03:00"
}
```
This file lives in `{manifestDir}/voxbox-manifest.json` and is autogenerated by this tool.